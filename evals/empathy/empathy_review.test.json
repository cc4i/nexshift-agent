{
  "description": "EmpathyAdvocate agent tests for fairness and burnout review",
  "test_cases": [
    {
      "name": "analyze_specific_roster",
      "description": "Agent should analyze a specific roster when ID provided",
      "input": "check empathy for roster_test_valid_001",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_valid_001"}}
      ],
      "expected_response_contains": ["EMPATHY REPORT", "roster_test_valid_001"]
    },
    {
      "name": "analyze_default_roster",
      "description": "Agent should analyze most recent draft when no ID specified",
      "input": "review empathy for the roster",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness"}
      ],
      "expected_response_contains": ["EMPATHY REPORT"]
    },
    {
      "name": "check_fairness",
      "description": "Agent should check fairness when asked",
      "input": "check fairness of the current roster",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness"}
      ],
      "expected_response_contains": ["Empathy Score", "fairness"]
    },
    {
      "name": "detailed_nurse_review",
      "description": "Agent should get detailed assignments for nurse-by-nurse review",
      "input": "give me a detailed nurse-by-nurse review for roster_test_001",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}},
        {"tool_name": "get_roster_assignments", "args": {"roster_id": "roster_test_001"}}
      ],
      "expected_response_contains": ["Nurse"]
    },
    {
      "name": "check_fatigue_levels",
      "description": "Agent should check fatigue levels in review",
      "input": "check if anyone is at risk of burnout in roster_test_001",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}}
      ],
      "expected_response_contains": ["fatigue", "burnout"]
    },
    {
      "name": "get_nurse_stats_context",
      "description": "Agent should get nurse stats for additional context",
      "input": "review empathy and show me fatigue scores for all nurses",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness"},
        {"tool_name": "get_nurse_stats"}
      ],
      "expected_response_contains": ["fatigue"]
    },
    {
      "name": "check_preference_violations",
      "description": "Agent should identify preference violations",
      "input": "are nurse preferences being respected in roster_test_001?",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}}
      ],
      "expected_response_contains": ["preference"]
    },
    {
      "name": "check_weekend_distribution",
      "description": "Agent should check weekend shift distribution",
      "input": "is the weekend distribution fair in the roster?",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness"}
      ],
      "expected_response_contains": ["weekend"]
    },
    {
      "name": "check_night_shifts",
      "description": "Agent should review night shift assignments",
      "input": "review night shift fairness in roster_test_001",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}}
      ],
      "expected_response_contains": ["night"]
    },
    {
      "name": "handle_generation_failure",
      "description": "Agent should detect roster generation failure and skip review",
      "input": "review empathy for the roster",
      "session_state": {
        "draft_roster": {
          "error": "Failed to generate roster - insufficient nurses"
        }
      },
      "expected_response_contains": ["N/A", "No roster generated", "failed"],
      "expected_tool_trajectory": []
    },
    {
      "name": "get_specific_nurse_history",
      "description": "Agent should get history for a specific nurse when asked",
      "input": "show me Alice's shift history and check if she's overworked",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_history", "args": {"nurse_id": "Alice"}}
      ],
      "expected_response_contains": ["Alice", "history"]
    },
    {
      "name": "comprehensive_empathy_review",
      "description": "Agent should perform comprehensive review with multiple tools",
      "input": "do a full empathy analysis of roster_test_001 with detailed assignments",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}},
        {"tool_name": "get_roster_assignments", "args": {"roster_id": "roster_test_001"}},
        {"tool_name": "get_nurse_stats"}
      ],
      "expected_response_contains": ["EMPATHY REPORT", "Empathy Score"]
    },
    {
      "name": "provide_recommendations",
      "description": "Agent should provide recommendations for improving fairness",
      "input": "what improvements can we make to roster_test_001 for better fairness?",
      "expected_tool_trajectory": [
        {"tool_name": "analyze_roster_fairness", "args": {"roster_id": "roster_test_001"}}
      ],
      "expected_response_contains": ["Recommendations", "improve"]
    }
  ]
}
