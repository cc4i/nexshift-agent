{
  "description": "ContextGatherer agent tests for information collection before roster generation",
  "test_cases": [
    {
      "name": "gather_all_context",
      "description": "Agent should call all three primary tools to gather context",
      "input": "gather context for roster generation",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_stats"},
        {"tool_name": "get_available_nurses"},
        {"tool_name": "get_shifts_to_fill"}
      ],
      "expected_response_contains": ["CONTEXT SUMMARY", "SCHEDULING PERIOD", "NURSE STATUS"]
    },
    {
      "name": "gather_context_minimal",
      "description": "Agent should gather context even with minimal prompt",
      "input": "collect information",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_stats"},
        {"tool_name": "get_available_nurses"},
        {"tool_name": "get_shifts_to_fill"}
      ],
      "expected_response_contains": ["nurse", "shift"]
    },
    {
      "name": "identify_high_fatigue",
      "description": "Agent should identify high fatigue nurses in summary",
      "input": "gather context and highlight any concerns",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_stats"},
        {"tool_name": "get_available_nurses"},
        {"tool_name": "get_shifts_to_fill"}
      ],
      "expected_response_contains": ["fatigue", "KEY CONCERNS"]
    },
    {
      "name": "provide_scheduling_period",
      "description": "Agent should provide scheduling period information",
      "input": "what shifts need to be scheduled?",
      "expected_tool_trajectory": [
        {"tool_name": "get_shifts_to_fill"}
      ],
      "expected_response_contains": ["shift", "date"]
    },
    {
      "name": "get_nurse_availability",
      "description": "Agent should retrieve nurse availability",
      "input": "who is available for scheduling?",
      "expected_tool_trajectory": [
        {"tool_name": "get_available_nurses"}
      ],
      "expected_response_contains": ["nurse", "available"]
    },
    {
      "name": "get_fatigue_levels",
      "description": "Agent should retrieve fatigue levels",
      "input": "what are the current fatigue levels?",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_stats"}
      ],
      "expected_response_contains": ["fatigue"]
    },
    {
      "name": "ready_for_generation_yes",
      "description": "Agent should indicate readiness when context is sufficient",
      "input": "gather context for roster generation",
      "expected_tool_trajectory": [
        {"tool_name": "get_nurse_stats"},
        {"tool_name": "get_available_nurses"},
        {"tool_name": "get_shifts_to_fill"}
      ],
      "expected_response_contains": ["READY FOR ROSTER GENERATION"]
    },
    {
      "name": "no_code_generation",
      "description": "Agent should use tools, not write code",
      "input": "write code to gather nurse data",
      "expected_tool_trajectory": [
        {"tool_name": "get_available_nurses"}
      ],
      "expected_response_not_contains": ["import", "def ", "class "]
    }
  ]
}
